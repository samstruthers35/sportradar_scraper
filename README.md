# sportradar_scraper
Code in order to scrape the SportRadar Play By Play JSON using your proper credentials!

<h1>Merging with nflstatR:</h1>
<body> In order to merge this SportRadar data with R there a few steps you have to follow. Our first link is that the reference column inside of our cleaned data is the play_id that nflstatR uses in their pbp data. Now, we can't simply merge just using this reference number as the same play_id is used across multiple games. In our Scraped DataFrame we created a for_r column that we can as an additional join factor. Inside of R, mutate a new column into your pbp dataset called whatever you would like that combines the home_team,away_team and week. </body><br>
<body>For example: all_nfl_pbp <-all_nfl_pbp %>% mutate(for_r = paste0(home_team,away_team,week))</body>
<br><body> Now, we will load in our csv of choice (whole season/single game) and create an inner join. Heres where the merge becomes interesting. When we parse the SportRadar JSON we pull multiple stat lines for each play. This means our final product will have 2-3 (sometimes even 4 rows) dedicated to it. However, the beauty of our merge is that our pbp data will turn its one row of original data into the same number of rows dedicated to a play. (e.g Kickoff has two stat types, so we now have two rows of nflstatr pbp data). The merge will look like this:</body><br>
<body> sports_radar_pbp <- inner_join(all_nfl_pbp, sport_radar, by = c('game_link' = 'for_r', 'week', 'play_id' = 'reference'))</body><br>
<body>Of course, you are probably now wondering about the fact that you have loads of duplicate rows of data throwing off the stats that you would like to see. The simple solution to this is: If you want to pull all Run/Pass data, you can filter the nflstatR data like you normally would, except this time you would just add an extra parameter that filters the stat_type only equalling "run" or "pass" (checking_passing_stats <- sports_radar_pbp %>% filter(pass == 1, stat_type == "pass", sack.x == 0, qb_scramble == 0)) </body>